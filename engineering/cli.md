# cli

完备的脚手架可以快速搭建和启动常规项目

![cli](../assets/images/cli_structure.png.png)

## 需求

一个完整的构建工具架构需要满足一些核心需求

1. 交互明确的命令行界面
2. 模板分离
3. 多种配置及插件扩展
4. 本地开发环境
5. 自动化测试/部署

## 目的

搭建脚手架目的主要是为了解决一下目的

1. 减少重复性工作
2. 规范项目结构
3. 统一开发风格及规范
4. 快速启动项目，专注业务

## 架构

主流脚手架常规流程为

1. 根据需求生成配置文件
2. 下载指定模板
3. 生成项目结构
4. 本地开发环境启动
5. 热更新
6. 代码规范检测

在常规需求中再附加业务常见需求进行定制搭建即可

## 主要依赖

1. babel-cli/babel-env：语法转换工具，脚手架开发中使用 ES6 语法
2. commander：命令行工具，读取命令行命令
3. inquirer： 交互式命令行工具，给用户提供一个漂亮的界面和提出问题流的方式
4. download-git-repo：下载远程模板工具，负责下载远程仓库的模板项目
5. chalk：颜色插件，用来修改命令行输出样式，通过颜色区分 info、error 日志，清晰直观
6. ora：用于显示加载中的效果，类似于前端页面的 loading 效果，像下载模板这种耗时的操作，有了 loading 效果可以提示用户正在进行中，请耐心等待
7. log-symbols：日志彩色符号，用来显示 √ 或 × 等的图标

## 项目模板

脚手架需要准备几套常用的项目结构配置，在创建项目时，直接拉取对应的模板再进行部分配置的修改即可

模板最好存放在一个远端仓库，通过动态地址进行获取下载，这样解耦脚手架和模板，方便更新维护

## 搭建
![cli](../assets/images/cli_flow.png.png)


